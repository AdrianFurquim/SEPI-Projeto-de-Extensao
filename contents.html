<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SEPI ‚Ä¢ Conte√∫do ‚Ä¢ Matem√°tica & F√≠sica</title>
  <link rel="stylesheet" href="./assets/css/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="topbar">
      <a href="index.html" class="to-home">
        <div class="brand" role="banner" aria-label="EduLab Home">
          <span class="logo">‚àë</span>
          <h1>SEPI</h1>
          <small>Matem√°tica & F√≠sica</small>
        </div>
      </a>
    <nav class="nav" aria-label="principal">
      <a href="index.html">
        <button class="nav__link" data-route="home">In√≠cio</button>
      </a>
      <!-- <button class="nav__link" data-route="courses">Cursos</button> -->
      <!-- <button class="nav__link" data-route="ebooks">E-books</button> -->
      <!-- <button class="nav__link" data-route="my">Meu Aprendizado</button>
      <button class="nav__link" data-route="admin">Admin</button> -->
    </nav>
    <div class="topbar__actions">
      <!-- <input id="searchInput" type="search" placeholder="Buscar cursos e e‚Äëbooks‚Ä¶" aria-label="Buscar" /> -->
      <button id="btnDark" class="icon-btn" title="Alternar tema"
        aria-pressed="false" aria-label="Ativar modo escuro">
        <span id="themeIcon" aria-hidden="true">üåô</span>
      </button>
      <button id="hamburgerBtn" class="hamburger" aria-label="Abrir menu" aria-controls="mobileSidebar" aria-expanded="false">
        <span class="hamburger-bar" aria-hidden="true"></span>
        <span class="hamburger-bar" aria-hidden="true"></span>
        <span class="hamburger-bar" aria-hidden="true"></span>
      </button>
      <!-- <button id="btnLogin" class="btn btn--primary">Entrar</button> -->
    </div>
  </header>

  <div class="learning-app">
        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Course Header -->
            <div class="course-header">
                <div class="course-info">
                    <div class="course-icon">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <circle cx="12" cy="12" r="8"/>
                            <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
                        </svg>
                    </div>
                    <div class="course-details">
                        <h2 class="title-matetial"> </h2>
                    </div>
                </div>
            </div>

            <!-- Conte√∫dos de Matem√°tica -->
            <div class="sidebar-section">
                <button class="section-header" onclick="toggleSection('aula-atual', 'matematica')">
                    <div class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M2 6h20v12H2z"/>
                            <path d="M2 6l10 6 10-6"/>
                        </svg>
                        Matem√°tica
                    </div>
                    <svg class="chevron" id="chevron-aula-atual" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"/>
                    </svg>
                </button>
                <div class="lesson-card lesson-car-mat hidden" id="aula-atual">
                    <div class="lessons-list">
                    </div>
                </div>
            </div>

            <!-- Conte√∫dos de F√≠sica -->
            <div class="sidebar-section">
                <button class="section-header" onclick="toggleSection('atividades', 'fisica')">
                    <div class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                        </svg>
                        F√≠sica
                    </div>
                    <svg class="chevron" id="chevron-atividades" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"/>
                    </svg>
                </button>
                <div class="lesson-card lesson-car-fis lessons-list-fisica hidden" id="atividades">
                </div>
            </div>

            <!-- Resources Section -->
            <div class="sidebar-section">
                <!-- <button class="section-header" onclick="toggleSection('recursos')">
                    <div class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <circle cx="12" cy="1" r="1"/>
                            <circle cx="12" cy="23" r="1"/>
                            <circle cx="20" cy="12" r="1"/>
                            <circle cx="4" cy="12" r="1"/>
                            <circle cx="18.5" cy="5.5" r="1"/>
                            <circle cx="5.5" cy="18.5" r="1"/>
                            <circle cx="18.5" cy="18.5" r="1"/>
                            <circle cx="5.5" cy="5.5" r="1"/>
                        </svg>
                        RECURSOS
                    </div>
                    <svg class="chevron" id="chevron-recursos" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"/>
                    </svg>
                </button> -->
                <div class="section-content hidden" id="recursos">
                    <div class="resource-item">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2Z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <span>Para saber mais</span>
                    </div>
                    <div class="resource-item">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"/>
                            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                            <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3"/>
                            <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/>
                        </svg>
                        <span>O que aprendemos?</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Course Header -->
            <div class="course-banner" onclick="">
                <h2 class="couse-banner-title">Aqui voc√™ pode ver sobre seu curso Preferido!</h2>
            </div>

            <!-- Main Grid -->
            <div class="">
                <!-- Left Content -->
                <div class="left-content">

                    <!-- Transcript Section -->
                    <div class="content-card">
                        <h3 class="transcript-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2Z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                                <polyline points="10,9 9,9 8,9"/>
                            </svg>
                            Venha aprender conosco!
                        </h3>
                        <p class="transcript-text">
                            Junte-se a n√≥s e transforme conhecimento em pr√°tica. Explore Matem√°tica ou F√≠sica e aprenda a usar esses saberes no seu dia a dia profissional.
                        </p>
                    </div>
                </div>

                <!-- Right Content - Video -->
                <div class="right-content">
                </div>
            </div>
          </main>
          
    <!-- <footer class="footer">
      <p>¬© <span id="year"></span> SEPI. Feito com HTML, CSS e JavaScript puro.</p>
    </footer> -->


  <dialog id="videoDialog" class="wide-dialog">
    <form method="dialog" class="dialog__content">
      <h3 id="videoTitle">Aula</h3>
      <div class="video-wrap">
        <video id="videoPlayer" controls playsinline>
          <!-- Voc√™ pode substituir o src por um arquivo local .mp4 ou um link direto -->
          <source id="videoSrc" src="" type="video/mp4" />
          Seu navegador n√£o suporta v√≠deo HTML5.
        </video>
      </div>
      <menu class="dialog__menu">
        <button value="close" class="btn btn--primary">Fechar</button>
      </menu>
    </form>
  </dialog>

  <!-- <script src="./assets/js/app.js"></script> -->
  <script src="./assets/js/contents.js"></script>
  <script>
        function toggleSection(sectionId, material) {
            const content = document.getElementById(sectionId);
            const chevron = document.getElementById('chevron-' + sectionId);
            //console.log("Foi")

            let lessonCardMat = document.querySelector(".lesson-car-mat")
            let lessonCardFis = document.querySelector(".lesson-car-fis")

            if(lessonCardMat.classList.contains("active-lesson-card") && lessonCardMat.classList.contains("lesson-car-mat") && material == "matematica"){
                lessonCardMat.classList.remove("active-lesson-card")
            } else if(material == "matematica"){
                lessonCardMat.classList.add("active-lesson-card")
            }

            if(lessonCardFis.classList.contains("active-lesson-card") && lessonCardFis.classList.contains("lesson-car-fis") && material == "fisica"){
                lessonCardFis.classList.remove("active-lesson-card")
            } else if(material == "fisica"){
                lessonCardFis.classList.add("active-lesson-card")
            }

            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                chevron.style.transform = 'rotate(90deg)';
            } else {
                content.classList.add('hidden');
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // Initialize first section as open
        document.addEventListener('DOMContentLoaded', function() {
        });
    </script>
    <script>
        (function() {
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const sidebar = document.querySelector('.sidebar');
        if (!hamburgerBtn || !sidebar) return;

        // cria backdrop (uma vez)
        let backdrop = document.querySelector('.sidebar-backdrop');
        if (!backdrop) {
            backdrop = document.createElement('div');
            backdrop.className = 'sidebar-backdrop';
            document.body.appendChild(backdrop);
        }

        function openSidebar() {
            document.body.classList.add('nav-open');
            hamburgerBtn.setAttribute('aria-expanded', 'true');
            document.documentElement.style.overflow = 'hidden'; // evita scroll no body
            // move foco pro primeiro item clic√°vel do sidebar
            const firstFocusable = sidebar.querySelector('button, a, [tabindex]:not([tabindex="-1"])');
            if (firstFocusable) firstFocusable.focus();
        }

        function closeSidebar() {
            document.body.classList.remove('nav-open');
            hamburgerBtn.setAttribute('aria-expanded', 'false');
            document.documentElement.style.overflow = '';
            hamburgerBtn.focus();
        }

        hamburgerBtn.addEventListener('click', () => {
            if (document.body.classList.contains('nav-open')) closeSidebar();
            else openSidebar();
        });

        // fechar ao clicar no backdrop
        backdrop.addEventListener('click', closeSidebar);

        // ESC fecha
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && document.body.classList.contains('nav-open')) {
            closeSidebar();
            }
        });

        // l√≥gica de fechamento ao clicar dentro do sidebar:
        // - N√ÉO fecha quando clicar nas se√ß√µes/headers (".section-header") ‚Äî isso mant√©m expand/collapse funcionando
        // - Fecha quando clicar em itens de conte√∫do (".lesson-item", ".resource-item") ‚Äî que carregam conte√∫do
        sidebar.addEventListener('click', (e) => {
            // se clicou num header de se√ß√£o (mat√©ria), N√ÉO fechar
            if (e.target.closest('.section-header')) {
            return; // mant√©m menu aberto
            }

            // selectors que devem provocar fechamento (conte√∫do selecionado)
            const shouldCloseSelectors = [
            '.lesson-item',    // item de aula (conte√∫do)
            '.resource-item',  // item de recurso
            '.video-block',    // bloco de v√≠deo, caso tenha
            'a[data-close="true"]' // links marcados para fechar explicitamente
            ];

            const shouldClose = shouldCloseSelectors.some(sel => !!e.target.closest(sel));
            if (shouldClose && window.innerWidth <= 768) {
            // pequeno delay para permitir que o clique execute a a√ß√£o (ex: carregar conte√∫do)
            setTimeout(closeSidebar, 140);
            }
        });

        // fecha automaticamente caso o usu√°rio redimensione para desktop
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && document.body.classList.contains('nav-open')) {
            closeSidebar();
            }
        });

        })();
    </script>
</body>
</html>
